<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>ปฏิทินเลือกปี/เดือน</title>

<style>
body {
  font-family: sans-serif;
  margin: 20px;
}
.header {
  display: flex;
  gap: 10px;
  align-items: center;
  margin-bottom: 15px;
}
select {
  padding: 6px;
  font-size: 16px;
}
table {
  width: 100%;
  border-collapse: collapse;
}
th, td {
  border: 1px solid #ddd;
  height: 90px;
  vertical-align: top;
  padding: 5px;
}
th {
  background: #f2f2f2;
}
.date {
  font-weight: bold;
}
.today {
  background: #ffe6e6;
}
</style>
</head>

<body>

<div class="header">
  <label>ปี:</label>
  <select id="yearSelect"></select>

  <label>เดือน:</label>
  <select id="monthSelect"></select>
</div>

<table>
<thead>
<tr>
  <th>อา.</th>
  <th>จ.</th>
  <th>อ.</th>
  <th>พ.</th>
  <th>พฤ.</th>
  <th>ศ.</th>
  <th>ส.</th>
</tr>
</thead>
<tbody id="calendarBody"></tbody>
</table>

<script>
const monthNames = [
  "มกราคม","กุมภาพันธ์","มีนาคม","เมษายน",
  "พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม",
  "กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"
];

const today = new Date();
const yearSelect = document.getElementById("yearSelect");
const monthSelect = document.getElementById("monthSelect");
const calendarBody = document.getElementById("calendarBody");

// เติมปี (พ.ศ.)
for (let y = today.getFullYear() - 2; y <= today.getFullYear() + 2; y++) {
  const option = document.createElement("option");
  option.value = y;
  option.text = y + 543;
  if (y === today.getFullYear()) option.selected = true;
  yearSelect.appendChild(option);
}

// เติมเดือน
monthNames.forEach((m, i) => {
  const option = document.createElement("option");
  option.value = i;
  option.text = m;
  if (i === today.getMonth()) option.selected = true;
  monthSelect.appendChild(option);
});

yearSelect.addEventListener("change", renderCalendar);
monthSelect.addEventListener("change", renderCalendar);

renderCalendar();

function renderCalendar() {
  const year = parseInt(yearSelect.value);
  const month = parseInt(monthSelect.value);

  calendarBody.innerHTML = "";

  const firstDay = new Date(year, month, 1).getDay();
  const daysInMonth = new Date(year, month + 1, 0).getDate();

  let date = 1;

  for (let i = 0; i < 6; i++) {
    const row = document.createElement("tr");

    for (let j = 0; j < 7; j++) {
      const cell = document.createElement("td");

      if (i === 0 && j < firstDay) {
        cell.innerHTML = "";
      } else if (date > daysInMonth) {
        cell.innerHTML = "";
      } else {
        cell.innerHTML = `<div class="date">${date}</div>`;

        if (
          date === today.getDate() &&
          month === today.getMonth() &&
          year === today.getFullYear()
        ) {
          cell.classList.add("today");
        }

        date++;
      }

      row.appendChild(cell);
    }
    calendarBody.appendChild(row);
  }
}
</script>

</body>
</html>
